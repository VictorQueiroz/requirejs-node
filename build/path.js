"use strict";define(function(r,t){function n(r,t){for(var n=0,e=r.length-1;e>=0;e--){var s=r[e];"."===s?r.splice(e,1):".."===s?(r.splice(e,1),n++):n&&(r.splice(e,1),n--)}if(t)for(;n--;n)r.unshift("..");return r}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,s=function(r){return e.exec(r).slice(1)};t.resolve=function(){for(var r="",t=!1,e=arguments.length-1;e>=-1&&!t;e--){var s=e>=0?arguments[e]:process.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(r=s+"/"+r,t="/"===s.charAt(0))}return r=n(r.split("/").filter(function(r){return!!r}),!t).join("/"),(t?"/":"")+r||"."},t.normalize=function(r){for(var e=t.isAbsolute(r),s="/"===r[r.length-1],i=r.split("/"),o=[],u=0;u<i.length;u++)i[u]&&o.push(i[u]);return r=n(o,!e).join("/"),r||e||(r="."),r&&s&&(r+="/"),(e?"/":"")+r},t.isAbsolute=function(r){return"/"===r.charAt(0)},t.join=function(){for(var r="",n=0;n<arguments.length;n++){var e=arguments[n];if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");e&&(r+=r?"/"+e:e)}return t.normalize(r)},t.relative=function(r,n){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var n=r.length-1;n>=0&&""===r[n];n--);return t>n?[]:r.slice(t,n+1)}r=t.resolve(r).substr(1),n=t.resolve(n).substr(1);for(var s=e(r.split("/")),i=e(n.split("/")),o=Math.min(s.length,i.length),u=o,l=0;o>l;l++)if(s[l]!==i[l]){u=l;break}for(var a=[],l=u;l<s.length;l++)a.push("..");return a=a.concat(i.slice(u)),a.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(r){var t=s(r),n=t[0],e=t[1];return n||e?(e&&(e=e.substr(0,e.length-1)),n+e):"."},t.basename=function(r,t){var n=s(r)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(r){return s(r)[3]}});